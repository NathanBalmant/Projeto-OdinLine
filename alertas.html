<!DOCTYPE html>
<html lang="pt-BR" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Odinline - Alertas</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body class="d-flex align-items-center py-4 bg-body-secondary">
    <main class="w-100 m-auto form-container px-4">
        <div class="d-flex justify-content-end">
            <button onclick="logout()" class="btn btn-outline-danger btn-sm mt-2">Sair</button>
        </div>

        <img src="assets/image-removebg-preview.png" alt="Logo Odinline" class="mb-4" width="180">
        <h1 class="h4 mb-3 fw-semibold">Cadastrar Alerta de Preço</h1>

        <form id="alertaForm">
            <!-- Campo de seleção do produto -->
            <div class="mb-3">
                <label for="idProduto" class="form-label">Selecione um Produto</label>
                <select id="idProduto" class="form-select">
                    <option value="" disabled selected>Carregando produtos...</option>
                </select>
            </div>

            <!-- Campo de valor desejado -->
            <div class="form-floating mb-3">
                <input type="number" name="valor" class="form-control" id="valor" placeholder="Valor desejado">
                <label for="valor">Valor Desejado</label>
            </div>

            <!-- Ação: notificar ou comprar -->
            <div class="form-check">
                <input class="form-check-input" type="radio" name="acao" id="notificar" value="notificar" checked>
                <label class="form-check-label" for="notificar">Notificar</label>
            </div>
            <div class="form-check mb-3">
                <input class="form-check-input" type="radio" name="acao" id="comprar" value="comprar">
                <label class="form-check-label" for="comprar">Comprar</label>
            </div>

            <!-- Botão -->
            <button type="button" class="btn-custom btn-primary w-100 py-2" onclick="cadastrarAlerta()">Cadastrar
                Alerta</button>
        </form>

        <!-- Mensagem de alerta -->
        <div id="mensagemAlerta" class="alert alert-info mt-3 d-none" role="alert"></div>

        <!-- Tabela de alertas -->
        <h2 class="h5 mt-5 mb-3">Alertas Ativos</h2>
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Produto</th>
                    <th>Valor Desejado</th>
                    <th>Ação</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id="tabelaAlertas">
                <!-- Preenchido via JavaScript -->
            </tbody>
        </table>
        <div class="text-center">
            <a href="compras.html" class="link-personalizado">
                Ir para página de compras →
            </a>
        </div>
    </main>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"
        crossorigin="anonymous"></script>
    <script src="js/index.js"></script>
    <script src="js/alertas.js"></script>
</body>

</html>